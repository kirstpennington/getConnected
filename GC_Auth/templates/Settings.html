<!DOCTYPE html>
<html lang="en">

<head>

    <!--*HEAD* Firebase-->

    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyCW2DTUu_qEhCG9xpj5gGkG2_QC_CmsGQE",
            authDomain: "getconnected-9dac0.firebaseapp.com",
            databaseURL: "https://getconnected-9dac0.firebaseio.com",
            projectId: "getconnected-9dac0",
            storageBucket: "getconnected-9dac0.appspot.com",
            messagingSenderId: "144309081376"
        };
        firebase.initializeApp(config);
    </script>

    <!--*HEAD* 1. Title-->

    <title>Settings </title>

    <!--*HEAD* 2. Bootstrap & CSS Links-->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../GC_Auth/GC_Auth/static/GC_Auth/loginstyle.css">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- footer style -->
    <link href="sticky-footer.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <!--*HEAD-STYLE*  1.1. Navigation Bar Style + Body Style -->

    <style>

        .dropdown {
            display: inline-block;
            margin-left: 20px;
        }

        .glyphicon-bell {
            font-size: 1.5rem;
        }

        .notifications {
            min-width: 320px;
        }

        .notifications-wrapper {
            overflow: auto;
            max-height: 250px;
        }

        .glyphicon-circle-arrow-right {
            margin-left: 10px;
        }

        .item-title {
            font-size: 1.5rem;
            color: black;
            padding: 0px 50px;
        }

        .notifications a.content {
            text-decoration: none;
            background: white;
        }



        .profile_img {
            width: 25px;
            display: inline;
            float: left;
            border: 0px solid #111;
            border-radius: 3px;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.5) inset;
        }
    </style>

    <!--Page format-->

    <style>


        .profileContainerDetails .UserWallpaper {
            height: 380px;
            background-position: center;
        }

        .UserWallpaper {
            height: 100vh;
            background-size: cover;
            margin: 0;
            padding: 0;
            border: 0;
            display: flex;
            align-items: center;

        }

        .parallax {
            /* The image used */

            /* Set a specific height */

            /* Create the parallax scrolling effect */
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }


        .profileContainerLift {
            margin: -280px 30px 0; /* Up and down control */
            border-radius: 8px;
            box-shadow: 0 16px 24px 2px rgba(0, 0, 0, .14), 0 6px 30px 5px rgba(0, 0, 0, .12), 0 8px 10px -5px rgba(0, 0, 0, .2);
            height: 900px; /* For Mandy to adjust size of pafe */
            margin-bottom: 30px;
        }

        .profileContainer { /* Container Control */
            background: #FFF;
            position: relative;
            z-index: 3;
        }

        .profileContainerDetails .profile img {
            max-width: 160px;
            width: 100%;
            margin: 0 auto;
            -webkit-transform: translate3d(0, -50%, 0);
            -moz-transform: translate3d(0, -50%, 0);
            -o-transform: translate3d(0, -50%, 0);
            -ms-transform: translate3d(0, -50%, 0);
            transform: translate3d(0, -50%, 0);
        }

        .img-raised { /* Profile Picture 1/3 */
            box-shadow: 0 5px 15px -8px rgba(0, 0, 0, .24), 0 8px 10px -5px rgba(0, 0, 0, .2);

        }

        .avatar:hover .changeImageLabel {
            opacity: 0.9;
            display: inline-block;
        }

        .rounded-circle { /* Profile Picture 2/3 */
            border-radius: 50% !important;
        }

        .img-fluid { /* Profile Picture 3/3 */
            max-width: 100%;
            max-height: 160px;
        }

        .profileContainerDetails .description {
            margin: 1.071rem auto 0;
            max-width: 600px;
            color: #999;
            font-weight: 300;
        }

        .profileContainerDetails, html {
            max-width: 100%;
            overflow-x: hidden;
        }

        .profileContainerDetails .gallery img {
            width: 100%;
            margin-bottom: 2.142rem;
        }

        .profileContainerDetails .profile .name {
            margin-top: -80px;
        }


    </style>

    <!--*HEAD-STYLE*  1.4. Cards Style-->

    <style>

        .header_site {
            background-color: white;
            height: 40px;
            width: 1080px;
            left: 40px;
            position: relative;
        }


        .titlefont {
            font-size: medium;
            color: gray;
            margin: auto 40px auto 40px;
            position: relative;
            left: 14px;
        }


        .card {
            box-shadow: 0 4px 8px 0 silver;
            width: 180px;
            height: 140px;
        }

        .card.hovercard {
            overflow: hidden;
            text-align: center;
            background-color: white;
            border-width: 5px;
            border-radius: 10px;

        }

        .card.hovercard:hover {
            overflow: hidden;
            text-align: center;
            background-color: white;
            border-width: 5px;

            -ms-transform: scale(0.5); /* IE 9 */
            -webkit-transform: scale(1); /* Safari 3-8 */
            transform: scale(1);
            border: 1px solid silver;
        }

        .card.Ccard {
            position: relative;
            overflow: hidden;
            text-align: center;
            background-color: white;
            border-width: 5px;

            width: 255px; /* or whatever width you want. */
            max-width: 255px; /* or whatever width you want. */
            height: 275px;
            max-height: 275px;
            display: inline-block;

            border-radius: 10px
        }

        .card.Ccard .info .title {
            margin-bottom: 4px;
            font-size: 24px;
            line-height: 1;
            color: black;
            vertical-align: middle;
            font-family: Arial;
        }

        .card.Ccard:hover {
            -ms-transform: scale(1); /* IE 9 */
            -webkit-transform: scale(1); /* Safari 3-8 */
            transform: scale(1);
            border: 1px solid silver;
            box-shadow: 5px 10px 8px #888888;
        }

        .cardheader {
            background: url("http://lorempixel.com/850/280/nature/4/");
            background-size: cover;
            height: 100px;
            width: 200px;
            border-radius: 8px;


            box-shadow: 0 4px 8px 0 silver;

        }

        .heartbutton {
            background: transparent;
            position: relative;
            top: -100px;
            left: 180px;

        }


        .heartColour {
            color: #e83e8c;
            border: black;
            border-width: 2px
        }

        .viewForum {
            color: #e83e8c;
            border: black;
            border-width: 2px
        }

        .ViewMorebutton {
            border-radius: 8px;
            color: black;
            background-color: #e83e8c;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.1) inset;
            opacity: 0.8;
            padding-top: 3px;
            padding-bottom: 3px;
            padding-left: 5px;
            padding-right: 5px;
            font-size: 12px;
            font-weight: bold;
        }

        .ViewMorebutton:hover {
            background-color: #e83e8c;
            color: white;
        }

        /*footer logo*/
        footer img {


            width: 200%;
            height: 200%;
            text-align: left;

        }


        /*zoom features*/
        .zoom:hover {
            -ms-transform: scale(1); /* IE 9 */
            -webkit-transform: scale(1); /* Safari 3-8 */
            transform: scale(1);
            border: 1px solid silver;
            box-shadow: 5px 10px 8px #888888;
        }

        .well a:hover {
            text-decoration: none;

        }

    </style>


    <!--User profile page-->
    <style>

        .badges {
            position: relative;
            top: -30px;
            left: 434px;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.1) inset;
            background-color: white;
            border-radius: 10px;
        }

        .badges:hover {

            -ms-transform: scale(0.5); /* IE 9 */
            -webkit-transform: scale(1); /* Safari 3-8 */
            transform: scale(1);
            border: 1px solid silver;
        }

        .settings {
            -webkit-transition: all 0.5s ease-in-out;

        }

        .settings:hover {
            -webkit-transform: scale(1.01);
            background: #31708f;
        }

        .main-secction {
            box-shadow: 5px 5px 5px;
            border-radius: 8px;

        }

        .image-section {
            padding: 0px;
        }

        .image-section img {
            width: 100%;
            height: 250px;
            position: relative;
        }


        .user-left-part {
            margin: 0px;
        }

        .user-image img {
            width: 100px;
            height: 100px;
        }


        .user-detail-section2 {
            font-size: 12px;
            padding: 0px;
            margin: 0px;
        }


        .user-detail-section2 span {
            color: #7CBBC3;
            font-size: 20px;
        }

        .user-detail-section2 small {
            font-size: 12px;
            color: #D3A86A;
        }

        .profile-right-section {
            padding: 20px 0px 10px 15px;
            background-color: #FFFFFF;
        }

        .profile-right-section-row {
            margin: 0px;
        }

        .profile-header-section1 h1 {
            font-size: 25px;
            margin: 0px;
        }

        .profile-header-section1 h5 {
            color: #0062cc;
        }


        .profile-tag {
            font-size: 12px;
            color: black;
        }

        .profile-tag i {
            color: #ADADAD;
            font-size: 20px;
        }


        .rightColumn {
            background-color: #FCFCFC;
            border-radius: 8px;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.1) inset;
            width: 290px;
            margin-left: 570px;
            margin-top: -150px;
            height: 300px;


        }

        .rightColumnTwo {
            background-color: #FCFCFC;
            border-radius: 8px;
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.1) inset;
            width: 290px;
            margin-left: 570px;
            margin-top: 20px;
            height: 225px;

        }

        .rightColumnContainer {
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.5) inset;
            border-radius: 8px;
            height: 72px;
            width: 280px;
            position: relative;
            right: 25px;
            top: -5px
        }

        .rightColumnContainer:hover {
            overflow: hidden;
            -ms-transform: scale(1); /* IE 9 */
            -webkit-transform: scale(1); /* Safari 3-8 */
            transform: scale(1);
            border: 1px solid silver;
            box-shadow: 5px 10px 8px #888888;
        }

        .rightColumnContainer_lower {
            box-shadow: 0 0 3px rgba(0, 0, 0, 0.5) inset;
            border-radius: 8px;
            height: 72px;
            width: 280px;
            position: relative;
            right: 25px;
            top: -5px;

        }

        .rightColumnContainer_lower:hover {

        }

        .inf {
            border-radius: 8px
        }

        .inf:hover {
            -ms-transform: scale(0.5); /* IE 9 */
            -webkit-transform: scale(1); /* Safari 3-8 */
            transform: scale(1);
            border: 1px solid silver;
        }

        .rightColumnfont {
            color: gray;
            position: relative;
            left: -9px;
            font-weight: bold;
            top: 6px;
            font-size: small;
        }


        .connection_container {
            margin-left: 40px;
        }


        .image-right-detail {
            font-size: 12px;
        }

        .image-right-detail a:hover {
            text-decoration: none;
        }

        .image-right img {
            width: 100%;
        }


        .image-right-detail-section2 {
            color: #38ACDF;
            margin: 0px;
        }

        .image-right-detail-section2 span {
            color: #7F7F7F;
        }


    </style>

    <!--Settings-->
    <style>

        .SettingsHead {
            font-size: 45px;
            font-weight: lighter;
            color: darkgray;


        }

        .inputformsLeft {
            padding-left: 150px;
            font-size: 20px;

            color: #666666;

        }

        .inputformsRight {
            padding-right: 50px;
            font-size: 20px;

            color: #666666;

        }


        .inputformsLeft input {
            border-radius: 4px;
            width: 70%;
        }

        .inputformsRight input {
            border-radius: 4px;
            width: 70%;
        }

        p {
            font-size: 20px;

            color: #666666;
        }

        option {
            padding-top: 1000px;
            padding-bottom: 10px;
        }

        button:hover {
            -ms-transform: scale(1); /* IE 9 */
            -webkit-transform: scale(1); /* Safari 3-8 */
            transform: scale(1);
            border: 1px solid silver;
            box-shadow: 3px 3px 3px #888888;
        }


        button {

            border-radius: 8px;
            color: #666666;
            background-color: white;
            border: 2px solid #e83e8c;
            display: inline-block;
            padding-top: 5px;
            padding-bottom: 5px;
            padding-left: 10px;
            padding-right: 10px;
            font-size: 16px;

        }

        button:focus {
            outline: none;
        }

    </style>

    <!--*STYLE for pop up model-->
    <style>

        .modal {
            text-align: center;
        }

        @media screen and (min-width: 768px) {
            .modal:before {
                display: inline-block;
                vertical-align: middle;
                content: " ";
                height: 100%;

            }
        }

        .modal-dialog {
            display: inline-block;
            text-align: left;
            vertical-align: middle;

        }

        /* drag and Drop */

        .files input {
            outline: 2px dashed #e83e8c;
            outline-offset: -10px;
            -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;
            transition: outline-offset .15s ease-in-out, background-color .15s linear;
            padding: 120px 0px 85px 35%;
            text-align: center !important;
            margin: 0;
            width: 100% !important;
        }

        .files input:focus {
            outline: 2px dashed #e83e8c;
            outline-offset: -10px;
            -webkit-transition: outline-offset .15s ease-in-out, background-color .15s linear;
            transition: outline-offset .15s ease-in-out, background-color .15s linear;
            border: 1px solid #92b0b3;
        }

        .files {
            position: relative
        }

        .files:after {
            pointer-events: none;
            position: absolute;
            top: 60px;
            left: 0;
            width: 50px;
            right: 0;
            height: 56px;
            content: "";
            background-image: url(https://image.flaticon.com/icons/png/128/109/109612.png);
            display: block;
            margin: 0 auto;
            background-size: 100%;
            background-repeat: no-repeat;
        }

        .color input {
            background-color: silver;
        }

        .files:before {
            position: absolute;
            bottom: 10px;
            left: 0;
            pointer-events: none;
            width: 100%;
            right: 0;
            height: 57px;
            content: " or drag and drop it here. ";
            display: block;
            margin: 0 auto;
            color: #e83e8c;
            font-weight: 600;
            text-transform: capitalize;
            text-align: center;
        }

        .changeImageLabel {
            background: rgba(0, 0, 0, 0.5) none repeat scroll 0 0;
            bottom: 150px;
            color: #fff;
            left: 245px;
            margin: 0;
            position: absolute;
            right: 0;
            text-align: center;
            transition: 0.1s all;
            width: 100px;
            display: none;
            font-weight: normal;

        }

    </style>

</head>

<body class="profileContainerDetails">
<!--*BODY* 1. Navigation Bar-->

{% if enabled == 'True' or enabled == 'true' or enabled == True or enabled == true %}   <!-- allow the user to disable only when the account is enabled-->
    <nav id="nav_bar_disable" class="navbar navbar-inverse  ">
    <div class="container-fluid">

        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>  <!--navbar-header-->

        <div class="collapse navbar-collapse" id="myNavbar"> <!--Navigation bar contents-->

            <!--Left-side (including search ) of navigation bar-->
            <ul class="nav navbar-nav navbar-left">
                <li><a onclick="location.href='{% url 'nav_home' %}'">
                    <span class="glyphicon glyphicon-home fa-lg"></span>
                    Home
                </a></li>

                    <li><a id="nav_connections_btn" onclick="location.href='{% url 'nav_networks' %}'"><span class="fa fa-globe fa-lg"></span>
                        Connections</a></li>
                    <li><a id="nav_forums_btn" onclick="location.href='{% url 'nav_forums' %}'"><span class="fa fa-comments-o fa-lg"></span>
                        Forums</a></li>
                    <li><a id="nav_courses_btn" onclick="location.href='{% url 'nav_courses' %}'"><span class="fa fa-book fa-lg"></span> Courses</a>
                    </li>

            </ul>


            <!--RHS of the navigation bar -->

            <ul class="nav navbar-nav navbar-right">

                <!--MESSAGE NOTIFICATIONS -->
                <li class="dropdown"><a id="idMessage" data-toggle="dropdown" data-target="#" href="#"
                                        onclick="CloseIntroForm(); OpenLogIn();">

                    <div style=""
                         id="Messages_icons_notifications">
                        &nbsp;<span class="glyphicon glyphicon-envelope"></span>&nbsp;
                        <span id="number_of_msg_notifications" class="label label-default"
                              style="background-color: red;color: white">0</span>&nbsp;
                    </div>


                    <ul class="dropdown-menu notifications" role="menu" aria-labelledby="dLabel">

                        <div  class="notifications-wrapper" style="overflow-x: hidden; "> <!--Messages Dropdown div-->

                            <ul id="Message_dropdown_notifications" style="">

                                <a class="text-center" style="font-family: sans-serif;font-style: italic;color: black; margin-left: 25%;">No Messages</a>

                                {% comment %}     <a><div style="" class="notification-item">
                                <img class="profile_img" src="{{ ProfilePic }}"/>
                                    <p style="font-family:sans-serif;font-style:italic;margin-left: 240px; color: grey">14:50</p>
                                    <h5 style="font-family: sans-serif; font-weight: bold; color: black; margin-top: -15px; left: 25px; position:relative">Winfreda Mazvidza</h5>
                                    <p style="font-family: sans-serif; color: black; margin-top: 3px;left: 30px;position:relative; font-size:small"> Hi Winny</p>
                                    <hr style="width: 100%; color: grey; height: 2px; background-color:grey; margin-top: 5px"/>
                                </div>
                            </a>

                            <a><div style="margin-top: -20px" class="notification-item">
                                <img class="profile_img" src="{{ ProfilePic }}"/>
                                    <p style="font-family:sans-serif;font-style:italic;margin-left: 240px; color: grey">14:50</p>
                                    <h5 style="font-family: sans-serif; font-weight: bold; color: black; margin-top: -15px; left: 25px; position:relative">Winfreda Mazvidza</h5>
                                    <p style="font-family: sans-serif; color: black; margin-top: 3px;left: 30px;position:relative; font-size:small"> Hi Winny</p>
                                    <hr style="width: 100%; color: grey; height: 2px; background-color:grey; margin-top: 5px"/>
                                </div>
                            </a>{% endcomment %}

                            </ul>

                        </div><!--notifications-wrapper-->
                        <li class="divider"></li>
                        <li style="font-weight: bold; font-family: sans-serif; text-align: right"
                            onclick="removeMessageNotifications() ;location.href='{% url 'nav_DirectMessaging' %}' ">
                            View All <i class="fa fa-angle-double-right"></i></li>
                    </ul><!--Dropdown menu Messages--> </a>
                </li><!--dropdown -->

                <!--REQUESTS NOTIFICATIONS -->
                <li style="text-decoration: none" class="dropdown"><a id="idLabel" data-toggle="dropdown"
                                                                      data-target="#" href="#"
                                                                      onclick="CloseIntroForm(); OpenLogIn();">

                    <div id="">
                        <span id="counter_number_notifications"></span>
                    </div>

                    <ul style="text-decoration: none" class="dropdown-menu notifications" role="menu"
                        aria-labelledby="dLabel">

                        <div class="notifications-wrapper" style="overflow-x: hidden;text-decoration: none">
                            <!--Notifications Dropdown div-->
                            <ul id="comment"><p style="font-family: sans-serif;font-style: italic;color: black">No
                                Notifications</p></ul>
                        </div><!--End of Notifications Dropdown div-->

                        <!--Footer of notification drop down-->
                        <li class="divider"></li>
                        <li style="text-align: center"><a href="#"></a></li>

                    </ul> <!--Dropdown menu Notification-->
                </a>
                </li><!--dropdown -->

                <!--Profile Drop-Down -->
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"
                                        onclick="CloseIntroForm(); OpenLogIn();">

                    <span onclick="location.href='{% url 'userprofile' %}'"> <img class="rounded-circle" width="20"
                                                                                  height="20" src="{{ ProfilePic }}"
                                                                                  alt=""></span>

                    <span class="glyphicon glyphicon-triangle-bottom"></span></a>

                    <ul class="dropdown-menu">
                        <li><a onclick="location.href='{% url 'settings' %}'">Settings <span
                                class="glyphicon glyphicon-cog pull-right"></span></a></li>
                        <li class="divider"></li>
                        <li><a onclick="location.href='{% url 'nav_forums' %}'">Forums <span
                                class="fa fa-comments-o pull-right"></span></a></li>
                        <li class="divider"></li>

                        <li><a onclick="location.href='{% url 'helpUserProfile' %}'">Help<span
                                class="glyphicon glyphicon-question-sign pull-right"></span></a></li>
                        <li class="divider"></li>
                        <li><a onclick="location.href='{% url 'log' %}'">Sign Out <span
                                class="glyphicon glyphicon-log-out pull-right"></span></a></li>
                    </ul>
                </li>


            </ul><!--nav navbar-nav navbar-right-->
        </div><!--collapse nav-bar collapse-->
    </div><!--container fluid-->
</nav><!--nav navbar-inverse-->
{% else %}
    <nav hidden id="nav_bar_disable" class="navbar navbar-inverse  ">
    <div class="container-fluid">

        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>  <!--navbar-header-->

        <div class="collapse navbar-collapse" id="myNavbar"> <!--Navigation bar contents-->

            <!--Left-side (including search ) of navigation bar-->
            <ul class="nav navbar-nav navbar-left">
                <li><a style="color:white;border-left: 1px solid white;border-right: 1px solid white;">
                    <span class="glyphicon glyphicon-home fa-lg"></span>
                    Home
                </a></li>

                    <li><a id="nav_connections_btn" onclick="location.href='{% url 'nav_networks' %}'"><span class="fa fa-globe fa-lg"></span>
                        Connections</a></li>
                    <li><a id="nav_forums_btn" onclick="location.href='{% url 'nav_forums' %}'"><span class="fa fa-comments-o fa-lg"></span>
                        Forums</a></li>
                    <li><a id="nav_courses_btn" onclick="location.href='{% url 'nav_courses' %}'"><span class="fa fa-book fa-lg"></span> Courses</a>
                    </li>

            </ul>

            <ul class="nav navbar-nav" style="left: 80px; position: relative; width:500px; padding-top: 8px">
                <!--Search Input-->
                <form class="  search-form" role="search">
                    <input type="text" class="form-control" placeholder="Search"/>
                </form>

            </ul>

            <!--RHS of the navigation bar -->

            <ul class="nav navbar-nav navbar-right">

                <!--MESSAGE NOTIFICATIONS -->
                <li class="dropdown"><a id="idMessage" data-toggle="dropdown" data-target="#" href="#"
                                        onclick="CloseIntroForm(); OpenLogIn();">

                    <div style=""
                         id="Messages_icons_notifications">
                        &nbsp;<span class="glyphicon glyphicon-envelope"></span>&nbsp;
                        <span id="number_of_msg_notifications" class="label label-default"
                              style="background-color: red;color: white">0</span>&nbsp;
                    </div>


                    <ul class="dropdown-menu notifications" role="menu" aria-labelledby="dLabel">

                        <div  class="notifications-wrapper" style="overflow-x: hidden; "> <!--Messages Dropdown div-->

                            <ul id="Message_dropdown_notifications" style="">

                                <a class="text-center" style="font-family: sans-serif;font-style: italic;color: black; margin-left: 25%;">No Messages</a>

                                {% comment %}     <a><div style="" class="notification-item">
                                <img class="profile_img" src="{{ ProfilePic }}"/>
                                    <p style="font-family:sans-serif;font-style:italic;margin-left: 240px; color: grey">14:50</p>
                                    <h5 style="font-family: sans-serif; font-weight: bold; color: black; margin-top: -15px; left: 25px; position:relative">Winfreda Mazvidza</h5>
                                    <p style="font-family: sans-serif; color: black; margin-top: 3px;left: 30px;position:relative; font-size:small"> Hi Winny</p>
                                    <hr style="width: 100%; color: grey; height: 2px; background-color:grey; margin-top: 5px"/>
                                </div>
                            </a>

                            <a><div style="margin-top: -20px" class="notification-item">
                                <img class="profile_img" src="{{ ProfilePic }}"/>
                                    <p style="font-family:sans-serif;font-style:italic;margin-left: 240px; color: grey">14:50</p>
                                    <h5 style="font-family: sans-serif; font-weight: bold; color: black; margin-top: -15px; left: 25px; position:relative">Winfreda Mazvidza</h5>
                                    <p style="font-family: sans-serif; color: black; margin-top: 3px;left: 30px;position:relative; font-size:small"> Hi Winny</p>
                                    <hr style="width: 100%; color: grey; height: 2px; background-color:grey; margin-top: 5px"/>
                                </div>
                            </a>{% endcomment %}

                            </ul>

                        </div><!--notifications-wrapper-->
                        <li class="divider"></li>
                        <li style="font-weight: bold; font-family: sans-serif; text-align: right"
                            onclick="removeMessageNotifications() ;location.href='{% url 'nav_DirectMessaging' %}' ">
                            View All <i class="fa fa-angle-double-right"></i></li>
                    </ul><!--Dropdown menu Messages--> </a>
                </li><!--dropdown -->

                <!--REQUESTS NOTIFICATIONS -->
                <li style="text-decoration: none" class="dropdown"><a id="idLabel" data-toggle="dropdown"
                                                                      data-target="#" href="#"
                                                                      onclick="CloseIntroForm(); OpenLogIn();">

                    <div id="">
                        <span id="counter_number_notifications"></span>
                    </div>

                    <ul style="text-decoration: none" class="dropdown-menu notifications" role="menu"
                        aria-labelledby="dLabel">

                        <div class="notifications-wrapper" style="overflow-x: hidden;text-decoration: none">
                            <!--Notifications Dropdown div-->
                            <ul id="comment"><p style="font-family: sans-serif;font-style: italic;color: black">No
                                Notifications</p></ul>
                        </div><!--End of Notifications Dropdown div-->

                        <!--Footer of notification drop down-->
                        <li class="divider"></li>
                        <li style="text-align: center"><a href="#"></a></li>

                    </ul> <!--Dropdown menu Notification-->
                </a>
                </li><!--dropdown -->

                <!--Profile Drop-Down -->
                <li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"
                                        onclick="CloseIntroForm(); OpenLogIn();">

                    <span onclick="location.href='{% url 'userprofile' %}'"> <img class="rounded-circle" width="20"
                                                                                  height="20" src="{{ profilePic }}"
                                                                                  alt=""></span>

                    <span class="glyphicon glyphicon-triangle-bottom"></span></a>

                    <ul class="dropdown-menu">
                        <li><a onclick="location.href='{% url 'settings' %}'">Settings <span
                                class="glyphicon glyphicon-cog pull-right"></span></a></li>
                        <li class="divider"></li>
                        <li><a onclick="location.href='{% url 'nav_forums' %}'">Forums <span
                                class="fa fa-comments-o pull-right"></span></a></li>
                        <li class="divider"></li>

                        <li><a onclick="location.href='{% url 'helpUserProfile' %}'">Help<span
                                class="glyphicon glyphicon-question-sign pull-right"></span></a></li>
                        <li class="divider"></li>
                        <li><a onclick="location.href='{% url 'log' %}'">Sign Out <span
                                class="glyphicon glyphicon-log-out pull-right"></span></a></li>
                    </ul>
                </li>


            </ul><!--nav navbar-nav navbar-right-->

        </div><!--collapse nav-bar collapse-->
    </div><!--container fluid-->
</nav><!--nav navbar-inverse-->
{% endif %}


<script>

    /*Time for Posts Displayed*/
    const MONTH_NAMES = [
        'January', 'February', 'March', 'April', 'May', 'June',
        'July', 'August', 'September', 'October', 'November', 'December'
    ];

    function getFormattedDate(date, prefomattedDate = false, hideYear = false) {
        const day = date.getDate();
        const month = MONTH_NAMES[date.getMonth()];
        const year = date.getFullYear();
        const hours = date.getHours();
        let minutes = date.getMinutes();

        if (minutes < 10) {
            // Adding leading zero to minutes
            minutes = `0${minutes}`;
        }

        if (prefomattedDate) {
            // Today at 10:20
            // Yesterday at 10:20
            return `${prefomattedDate} at ${hours}:${minutes}`;
        }

        if (hideYear) {
            // 10. January at 10:20
            return `${day}. ${month} at ${hours}:${minutes}`;
        }

        // 10. January 2017. at 10:20
        return `${day}. ${month} ${year}. at ${hours}:${minutes}`;
    }

    // --- Main function
    function timeAgo(dateParam) {

        if (!dateParam) {
            return null;
        }

        const date = typeof dateParam === 'object' ? dateParam : new Date(dateParam);
        const DAY_IN_MS = 86400000; // 24 * 60 * 60 * 1000
        const today = new Date();
        const yesterday = new Date(today - DAY_IN_MS);
        const seconds = Math.round((today - date) / 1000);
        const minutes = Math.round(seconds / 60);
        const isToday = today.toDateString() === date.toDateString();
        const isYesterday = yesterday.toDateString() === date.toDateString();
        const isThisYear = today.getFullYear() === date.getFullYear();


        if (seconds < 5) {
            return 'now';
        } else if (seconds < 60) {
            return `${seconds} seconds ago`;
        } else if (seconds < 90) {
            return 'about a minute ago';
        } else if (minutes < 60) {
            return `${minutes} minutes ago`;
        } else if (isToday) {
            return getFormattedDate(date, 'Today'); // Today at 10:20
        } else if (isYesterday) {
            return getFormattedDate(date, 'Yesterday'); // Yesterday at 10:20
        } else if (isThisYear) {
            return getFormattedDate(date, false, true); // 10. January at 10:20
        }

        return getFormattedDate(date); // 10. January 2017. at 10:20
    };


    /*Message_Notificationas*/

    var Message_Notifications_Check = firebase.database().ref().child("Users/{{this_uid}}/Messages_Notifications");/*current user's account*/
    Message_Notifications_Check.on('value', function (snapshot) {
        msg_messages_dropdown(snapshot.val());
        msg_message_number(snapshot.val());
    });

    function msg_messages_dropdown(obj) {


        var dropdown_item = '';
        var keys = Object.keys(obj);
        var counter_check = 0;


        for (var i = keys.length - 1; i >= 0; i--) {

            if (obj[keys[i]].ProfilePic != undefined) {

                var display_time = obj[keys[i]].Time;
                display_time = Number(display_time); // cast it to a Number
                var ts_display = timeAgo(display_time);


                if (counter_check == 0) {
                    counter_check++;

                    dropdown_item += " <a><div style= \"padding: 2px;\n" +
                        "            margin: 5px;\n" +
                        "            border-radius: 4px;\n" +
                        "            border-width: 5px;\n" +
                        "            border-color: black;\n" +
                        "            height: 80px;\n" +
                        "             margin-left: -20px;\n" +
                        "            margin-top: 20px  \" class=\"notification-item\">\n" +
                        "                                <img style=\"margin-top:-12px\" class=\"profile_img\" src=\"" + obj[keys[i]].ProfilePic + "\"/>\n" +
                        "                                    \n" +
                        "                                    <h5 style=\"font-family: sans-serif; font-weight: bold; color: black; margin-top: -15px; left: 55px; position:relative\">" + obj[keys[i]].Sender_name + "</h5>\n" +
                        "                                    <p style=\"font-family: sans-serif; color: black; margin-top: 3px;left: 28px;position:relative; \"> " + obj[keys[i]].text + "</p>\n" +
                        "                                    <p style=\"font-family:sans-serif;font-style:italic;margin-left: 58px;margin-top:2px; color: grey;font-size:x-small\"><i class= \"fa fa-clock-o \"></i>&nbsp" + ts_display + "</p>\n" +
                        "                                    <hr style=\"width: 100%; color: grey; height: 2px; background-color:grey; margin-top: 5px\"/>\n" +
                        "                                </div>\n" +
                        "                            </a>";

                } else {

                    dropdown_item += " <a><div style= \"padding: 5px;\n" +
                        "            margin: 5px;\n" +
                        "            border-radius: 4px;\n" +
                        "            border-width: 5px;\n" +
                        "            border-color: black;\n" +
                        "            height: 80px;\n" +
                        "             margin-left: -20px;\n" +
                        "            margin-top: 20px \" class=\"notification-item\">\n" +
                        "                                <img style=\"margin-top:-12px\" class=\"profile_img\" src=\"" + obj[keys[i]].ProfilePic + "\"/>\n" +
                        "                                    \n" +
                        "                                    <h5 style=\"font-family: sans-serif; font-weight: bold; color: black; margin-top: -15px; left: 55px; position:relative\">" + obj[keys[i]].Sender_name + "</h5>\n" +
                        "                                    <p style=\"font-family: sans-serif; color: black; margin-top: 3px;left: 28px;position:relative; \">" + obj[keys[i]].text + "</p>\n" +
                        "                                    <p style=\"font-family:sans-serif;font-style:italic;margin-left: 58px;margin-top:2px; color: grey;font-size:x-small\"><i class= \"fa fa-clock-o \"></i>&nbsp" + ts_display + "</p>\n" +
                        "                                    <hr style=\"width: 100%; color: grey; height: 2px; background-color:grey; margin-top: 5px\"/>\n" +
                        "                                </div>\n" +
                        "                            </a>";
                }

            }
        }
        $('#Message_dropdown_notifications').html(dropdown_item);
    }


    function msg_message_number(obj) {
        // var html = '';
        var countholder = 0;
        var keys = Object.keys(obj);

        for (var i = 0; i < keys.length; i++) {
            countholder++;
        }
        {% comment %}
                        countholder--;
        {% endcomment %}

        {% comment %}database_counter.update({'counter': countholder});
         /*Creating notification icon*/{% endcomment %}


        {% comment %}
                        html += "<span class=\"glyphicon glyphicon-bell\"></span>&nbsp;<span class=\"label label-default\" style=\"background-color: red;color: white\">" + countholder + "</span></a>";
        {% endcomment %}


        $('#number_of_msg_notifications').html(countholder);


    }

    function removeMessageNotifications() {

        var other = firebase.database().ref().child("Users/" + '{{ this_uid }}');/*Messages*/
        other.child("Messages_Notifications").remove();

    }


    /*Request Notifications*/

    var database_counter = firebase.database().ref().child("Users/{{this_uid}}/RequestsReceived");/*current user's account*/


    database_counter.on('value', function (snapshot) {
        renderCount(snapshot.val());
        renderUI(snapshot.val());
        //alert("Connection Request Received");


    });


    function renderUI(obj) {
        var html = '';
        var keys = Object.keys(obj);
        start_count = 0;
        for (var i = keys.length - 1; i >= 0; i--) {
            // for (var i = 0; i <= keys.length - 1; i++) {
            /* html += "<li><b><i>" + obj[keys[i]].time + "</i></b> girl " + obj[keys[i]].receiver + "</li>";*/
            /*Creating notification item*/

            if (obj[keys[i]].sender_profilePic != undefined) {
                start_count ++;

                if (start_count ==1) {

                    var display_time = obj[keys[i]].time;
                    display_time = Number(display_time); // cast it to a Number
                    var ts_display = timeAgo(display_time);


                    var decision = "true";
                    var opp_decison = "false";



                    html += "<div href=\"#\" class=\"content\" style=\"top: 0px; position:relative;text-decoration: none\"> <div style=\" padding:2px;margin:5px;border-radius:4px;border-width:5px;border-color:black;height:80px;margin-left: -30px; \" class=\"notification-item\"><img  class=\"profile_img_1\" src=\" " + obj[keys[i]].sender_profilePic + "\"/> <p style=\"margin-left: 0px;font-size: 60%; color: darkgray;text-decoration: none\">" + "" + "&nbsp;&nbsp;</p> <h5 style=\"font-family: sans-serif; font-weight: bold; color: black; margin-top: -15px; left: 25px; position:relative\">" + obj[keys[i]].sender + "</h5> <p style=\"font-family: sans-serif; color: black;left: 25px;position:relative;margin-top: -5px; \">" + obj[keys[i]].message +
                        "</p> <p style=\"font-family:sans-serif;font-style:italic;margin-left: 55px;margin-top:5px; color: grey;font-size: x-small\"><i class= \"fa fa-clock-o \"></i> " + ts_display + "</p>  <div style=\"margin-top: 10px\"> <button  id=\"dntrigger\" onclick=\"Accept_request(" + "\'" + obj[keys[i]].sender_id + "\'" + "," + "\'" + obj[keys[i]].sender + "\'" + "," + "\'" + obj[keys[i]].post_id + "\'" + "," + decision + " )\" class=\"AcceptDeclinebutton\" style=\" font-size: 85%; position: relative;left: 60px;color: white\">Accept</button> <button id=\"DeclineRemove\" onclick=\"Accept_request(" + "\'" + obj[keys[i]].sender_id + "\'" + "," + "\'" + obj[keys[i]].sender + "\'" + "," + "\'" + obj[keys[i]].post_id + "\'" + "," + opp_decison + ")\" class=\"AcceptDeclinebutton\" style=\"; font-size: 85%;position: relative;left: 60px;color: white \">Decline </button> </div> <hr style=\"width: 100%; color: gray; height: 2px; background-color:grey; margin-top: 5px\"/> </div> </div>";
                }

                else

                {

                    var display_time = obj[keys[i]].time;
                    display_time = Number(display_time); // cast it to a Number
                    var ts_display = timeAgo(display_time);


                    var decision = "true";
                    var opp_decison = "false";

                   // searchByCountry();





                    html += "<div href=\"#\" class=\"content\" style=\"padding:5px;margin: 5px; border-radius: 4px; border-width: 5px; border-color: black; height: 80px; margin-left: -20px; margin-top: 40px;\"> <div style=\"padding:2px;margin:5px;border-radius:4px;border-width:5px;border-color:black;height:80px;margin-left: -10px;\" class=\"notification-item\"><img  class=\"profile_img_1\" src=\" " + obj[keys[i]].sender_profilePic + "\"/> <p style=\"margin-left: 155px;font-size: 60%; color: darkgray;text-decoration: none\">" + "" + "&nbsp;&nbsp;</p> <h5 style=\"font-family: sans-serif; font-weight: bold; color: black; margin-top: 0px; top: -20px;left: 25px; position:relative\">" + obj[keys[i]].sender + "</h5> <p style=\"font-family: sans-serif; color: black; margin-top: -25px;left: 28px;position:relative; \">" + obj[keys[i]].message +
                        "</p> <p style=\"font-family:sans-serif;font-style:italic;margin-left: 55px;margin-top:5px; color: grey;font-size: x-small\"><i class= \"fa fa-clock-o \"></i> " + ts_display + "</p>  <div style=\"margin-top: 10px\"> <button  id=\"dntrigger\" onclick=\"Accept_request(" + "\'" + obj[keys[i]].sender_id + "\'" + "," + "\'" + obj[keys[i]].sender + "\'" + "," + "\'" + obj[keys[i]].post_id + "\'" + "," + decision + " )\" class=\"AcceptDeclinebutton\" style=\" font-size: 85%; position: relative;left: 60px;color: white\">Accept</button> <button id=\"DeclineRemove\" onclick=\"Accept_request(" + "\'" + obj[keys[i]].sender_id + "\'" + "," + "\'" + obj[keys[i]].sender + "\'" + "," + "\'" + obj[keys[i]].post_id + "\'" + "," + opp_decison + ")\" class=\"AcceptDeclinebutton\" style=\"; font-size: 85%;position: relative;left: 60px;color: white \">Decline </button> </div> <hr style=\"width: 100%; color: gray; height: 2px; background-color:grey; margin-top: 5px\"/> </div> </div><br>";

                }

            }
        }
        $('#comment').html(html);
    }

    function renderCount(obj) {
        var html = '';
        var countholder = 0;

        var keys = Object.keys(obj);
        for (var i = 0; i < keys.length; i++) {
            countholder++;
        }
        countholder--;
        database_counter.update({'counter': countholder});
        /*Creating notification icon*/


        html += "<span class=\"glyphicon glyphicon-bell\"></span>&nbsp;<span class=\"label label-default\" style=\"background-color: red;color: white\">" + countholder + "</span></a>";


        $('#counter_number_notifications').html(html);


    }

    function Accept_request(sender_id, name, post_id, isAccept) {


        if (String(isAccept).valueOf() == String("true").valueOf()) {

            /*Check Type of Request*/

            firebase.database().ref("Users/" + '{{this_uid}}' + "/RequestsReceived/" + post_id + "/Type").once("value", snapshot => {

                if (snapshot.exists()) {


                    var AddtoForum = firebase.database().ref().child("Forums/" + sender_id + "/Participants");/*Messages*/

                    AddtoForum.child('{{this_uid}}').set('{{ this_uid }}');


                    var AddtoForum_Joined = firebase.database().ref().child("Users/" + '{{this_uid}}' + "/ForumsJoined");/*Messages*/

                    AddtoForum_Joined.child(sender_id).set(sender_id);


                    window.alert("You have joined a new forum!");
                    //var x = document.getElementById("forumJoined");
                    // x.show();


                }/*Forum Requests*/

                else {


                    var AddConnection = firebase.database().ref().child("Users/" + '{{this_uid}}' + "/Connections");/*Messages*/
                    var AddConnection_other = firebase.database().ref().child("Users/" + sender_id + "/Connections");/*Messages*/


                    //AddConnection.child(sender_id).set(name);
                    var bio;
                    var propic;
                    var country;
                    var html = '';
                    var getAcceptcon = firebase.database().ref().child("Users/" + sender_id);
                    getAcceptcon.on("value", function (snapshot) {
                        bio = snapshot.val().Bio;
                        propic = snapshot.val().ProfilePic;
                        country = snapshot.val().Country;
                    });

                    //var created_id_target = AddConnection.push();
                    AddConnection.child(sender_id).set({ /*Pushes to receiver*/
                        Name: name,
                        Bio: bio,
                        ProfilePic: propic,
                        Country: country,

                    });

                    AddConnection_other.child('{{this_uid}}').set({ /*Pushes to receiver*/
                        Name: '{{ username }}',
                        Bio: '{{ bio }}',
                        ProfilePic: '{{ profilePic }}',
                        Country: '{{ country }}',

                    });


                    //window.alert("You are now connected with " + name);

                    html += "You are now connected with " + name;
                    $('#newconnectionmodal').html(html);

                    var y = document.getElementById("connectedWith");
                    y.show();

                }/*Friend Reuest*/
            }); /*Checking Type of Request*/
        } /*If Accept*/


        firebase.database().ref("Users/" + '{{this_uid}}' + "/RequestsReceived/" + post_id + "/Type").once("value", snapshot => {

            if (snapshot.exists()) {

                var different_name = firebase.database().ref().child("Users/" + '{{this_uid}}' + "/RequestsReceived/" + post_id);/*Messages*/
                different_name.remove();


            } else {

                var different_name = firebase.database().ref().child("Users/" + '{{this_uid}}' + "/RequestsReceived/" + post_id);/*Messages*/
                different_name.remove();

                var removesent = firebase.database().ref().child("Users/" + post_id + "/RequestsSent/" + '{{this_uid}}');/*Messages*/
                removesent.remove();


            }

        });


    }


</script>



<div class="UserWallpaper parallax" style="background-image:url(
        {% load staticfiles %}{% static "GC_Auth/UserProfile_images/campus.jpg" %}); margin-top: -20px;"></div>
<div class="profileContainer profileContainerLift"><!--1. Container for the whole user profile -->

    <!--2. Pic + Description -->
    <!--make a table with one row and 2 coloumns-->
    <div class="row">
        <div class="col-sm-4">
            <div class="profile">
                <div class="avatar">
                    <img style="margin-left: 200px" src="{{ profilePic }}"
                         alt="Circle Image"
                         class="img-raised rounded-circle img-fluid">



                </div>
            </div>
        </div><!--end coloumn-->
        <div class="col-sm-5">
            <br>
            <h2 class="SettingsHead" style="padding-right: 10px;"> Account Settings  <span
                    class="glyphicon glyphicon-cog"></span></h2>
        </div><!--end col-->



        <div class="col-sm-2"></div>


    </div><!--end of row-->


    <!--make a table with 2 coloumns and 4 rows-->
    <form action="/updateProfile/" method="post">
        {% csrf_token %}
        <div class="row"><!--row one-->


            <div class="col-md-6" style="padding-left: 120px; padding-bottom: 30px;"><!--coloumn one username -->
                <div class="inputformsLeft">
                    <p>Username: </p>
                    {% if enabled == 'True' or enabled == 'true' or enabled == True or enabled == true %}   <!-- allow the user to disable only when the account is enabled-->
                        <input maxlength="15" type="text" class="form-control" name="firstname" id="firstname" value={{ username }}>
                    {% else %}
                        <input disabled="true" maxlength="15" type="text" class="form-control" name="firstname" id="firstname" value={{ username }}>
                    {% endif %}
                </div>
            </div>

            <div class="col-md-6" style="padding-left: 120px; padding-bottom: 30px;"><!-coloumn combo boxes -->
                <!--   <p>University Attended:</p>
                   <select id="university" name="university"
                           style="border: 2px solid #e83e8c;width: 40% ;height: 100%;background-color:  #e83e8c;color:white; ">
                       <option value="None">None</option>
                       <option value="Cambridge CSL">Cambridge CSL</option>
                       <option value="Harvard"> Harvard University</option>
                       <option value="LSE"> LSE</option>
                       <option value="MIT">MIT</option>
                       <option value="Oxford Saïd">Oxford Saïd</option>
                       <option value="Rice University"> Rice University</option>
                       <option value="Stanford health">Stanford Center for Health Education</option>
                       <option value="Chicago Univeristy"> The University of Chicago</option>
                       <option value="UC Berkely"> UC Berkeley</option>
                       <option value="UC Davis">UC Davis Graduate School of Management</option>
                       <option value="UCT GSB"> UCT Graduate School of Business</option>
                       <option value="USB-ED">USB-ED</option>
                       <option value="UCT"> University of Cape Town</option>
                       <option value="Univeristy Dayton">University of Dayton</option>
                       <option value="WITS"> WITS</option>
                       <option value="Yale">Yale SOM Executive Education</option>
                   </select>-->

                <p>Your Country:</p>
                {% if enabled == 'True' or enabled == 'true' or enabled == True or enabled == true %}   <!-- allow the user to disable only when the account is enabled-->
                    <select id="country" name="country"
                            style="border: 2px solid #e83e8c;width: 40% ;height: 100%;background-color:  #e83e8c;color:white; ">
                        <!-- dynamically instantiate options list-->
                        {% for option in total_country_list %}
                            <!-- selects only the user's country -->
                            {% if option == country %}
                                <option value={{ option }} selected>{{ option }}</option>
                            {% else %}
                                <option value={{ option }}>{{ option }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                {% else %}
                      <select disabled="true" id="country" name="country"
                            style="border: 2px solid #e83e8c;width: 40% ;height: 100%;background-color:  #e83e8c;color:white; ">
                        <!-- dynamically instantiate options list-->
                        {% for option in total_country_list %}
                            <!-- selects only the user's country -->
                            {% if option == country %}
                                <option value={{ option }} selected>{{ option }}</option>
                            {% else %}
                                <option value={{ option }}>{{ option }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                {% endif %}
            </div>

        </div> <!--row one-->

        <div class="row"><!--row two-->
            <div class="col-md-6" style="padding-left: 275px; padding-bottom: 30px;"><!--My Courses -->
                <!--  <div style="display: none;" class="inputformsLeft">
                <p>Email Address: </p>
                <input type="email" class="form-control" name="email" value='{{ email }}'>
            </div> -->
                <p>My Courses</p>
                <!-- courses hide/show hide-->
                {% if coursesPrivacy == "True" %}
                    <label class="radio-inline">
                        <input type="radio" name="coursesPrivacyGet" value="False"> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="coursesPrivacyGet" value="True" checked> Hide
                    </label>
                {% else %}
                    <label class="radio-inline">
                        <input type="radio" name="coursesPrivacyGet" value="False" checked> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="coursesPrivacyGet" value="True"> Hide
                    </label>
                {% endif %}
                <br>
            </div>

            <div class="col-md-6" style="padding-left: 120px; padding-bottom: 30px;"><!--forums show hide -->
                <p>My Forums</p>
                <!-- forums hshow hide-->
                {% if forumsPrivacy == "True" %}
                    <label class="radio-inline">
                        <input type="radio" name="forumPrivacyGet" value="False"> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="forumPrivacyGet" value="True" checked> Hide
                    </label>
                {% else %}
                    <label class="radio-inline">
                        <input type="radio" name="forumPrivacyGet" value="False" checked> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="forumPrivacyGet" value="True"> Hide
                    </label>
                {% endif %}
                <br>
            </div><!--end col-->

        </div><!--row two-->

        <div class="row"><!--row three-->

            <!--coloumn with bio-->
            <div class="col-md-6" style="padding-left: 275px; padding-bottom: 30px;">
                <p>My Connections</p>
                <!-- connections hshow hide-->
                {% if connectionsPrivacy == "True" %}
                    <label class="radio-inline">
                        <input type="radio" name="connectionPrivacyGet" value="False"> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="connectionPrivacyGet" value="True" checked> Hide
                    </label>
                {% else %}
                    <label class="radio-inline">
                        <input type="radio" name="connectionPrivacyGet" value="False" checked> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="connectionPrivacyGet" value="True"> Hide
                    </label>
                {% endif %}

                <br>
            </div><!--end col-->

            <div class="col-md-6" style="padding-left: 120px; padding-bottom: 30px;"><!--forums show hide -->
                <p>Country</p>
                <!-- country hshow hide-->
                {% if countryPrivacy == "True" %}
                    <label class="radio-inline">
                        <input type="radio" name="countryPrivacyGet" value="False"> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="countryPrivacyGet" value="True" checked> Hide
                    </label>
                {% else %}
                    <label class="radio-inline">
                        <input type="radio" name="countryPrivacyGet" value="False" checked> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="countryPrivacyGet" value="True"> Hide
                    </label>
                {% endif %}
            </div><!--end col-->
        </div><!--row three-->

        <div class="row"><!--row four -->
            <!-- <div class="row">row one-->
            <!--coloumn with bio-->
            <div class="col-md-6" style="padding-left: 275px; padding-bottom: 30px;"><!--coloumn one username -->
                <p>Bio</p>
                <!-- bio hshow hide-->
                {% if bioPrivacy == "True" %}
                    <label class="radio-inline">
                        <input type="radio" name="bioPrivacyGet" value="False"> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="bioPrivacyGet" value="True" checked> Hide
                    </label>
                {% else %}
                    <label class="radio-inline">
                        <input type="radio" name="bioPrivacyGet" value="False" checked> Show
                    </label>

                    <label class="radio-inline">
                        <input type="radio" name="bioPrivacyGet" value="True"> Hide
                    </label>
                {% endif %}

                <div class="form-group">
                    {% if enabled == 'True' or enabled == 'true' or enabled == True or enabled == true %}   <!-- allow the user to disable only when the account is enabled-->
                        <textarea name="bioGet" id="bioGet" class="form-control" maxlength="100" rows="5" id="comment"
                              style="width: 70%;">{{ bio }}</textarea>
                    {% else %}
                        <textarea disabled="true" name="bioGet" id="bioGet" class="form-control" maxlength="100" rows="5" id="comment"
                              style="width: 70%;">{{ bio }}</textarea>
                    {% endif %}
                </div>


             <div>

            </div>

            </div><!--end col-->


            <div class="col-md-6" style="padding-left: 70px; padding-bottom: 30px;"><!--save button  -->

            <button id="disableAccBtn" style="border-color:#e83e8c; margin-left: 50px;" class="btn btn-default">Disable Account</button>

                    <div class="buttonbot" style="padding-top: 140px;padding-left: 140px;">
                        {% if enabled == 'True' or enabled == 'true' or enabled == True or enabled == true %}   <!-- allow the user to disable only when the account is enabled-->
                            <button id="saveChangesBtn" type="submit">Save Changes</button>
                        {% else %}
                            <button hidden="true" id="saveChangesBtn" type="submit">Save Changes</button>
                        {% endif %}
                        <button id="cancelBtn" type="submit" value="cancel" name="cancel">Cancel</button>
                    </div>



            </div><!--end col-->


        </div><!--row four-->

        <!--2. Everything else-->
        <div class="description text-left">


            <!--2.RIGHT-HAND SIDE-->


        </div>


</div>
</form>
</div>


<!-- Page Footer-->
<footer class="page-footer font-small cyan darken-3" style="background-color: #D3D3D3;">


    <div class="container">
        <br></br>
        <!-- Call to action -->
        <ul class="list-unstyled list-inline text-center py-2">
            <li class="list-inline-item">
                <!--  <h5 class="mb-1">Log in now: </h5>-->
            </li>
            <li class="list-inline-item">


                <div class="row"><!--table row-->

                    <div class="col-sm-3" style="text-align:left;padding-right: 100px;">
                        <br>
                        {% load staticfiles %}
                        <img src="{% static "GC_Auth/logotrans.png" %}" alt="lock" class="image">
                    </div>


                    <div class="col-sm-3" style="text-align:left;padding-left: 120px;">

                        <p style="color:#e83e8c;font-size:20px;"><strong>Menu</strong></p>
                        <a onclick="location.href='{% url 'nav_home' %}'"><p style="color: white; font-size: 14px;">Home</p></a>
                        <a onclick="location.href='{% url 'nav_networks' %}'" ><p style="color: white; font-size: 14px;">Connections</p>
                        </a>
                        <a onclick="location.href='{% url 'nav_forums' %}'" ><p style="color: white; font-size: 14px;">Forums</p></a>
                        <a onclick="location.href='{% url 'nav_courses' %}'" ><p style="color: white; font-size: 14px;">Courses</p></a>
                    </div>

                    <div class="col-sm-3" style="text-align:left;padding-left: 80px;"><!--coloumn-->

                        <p style="color:#e83e8c;font-size:20px;"><strong>Help & FAQs</strong></p>

                        <a onclick="location.href='{% url 'introHelp' %}'" ><p style="color: white; font-size: 14px;">What is
                            GetConnected?</p></a>
                        <a onclick="location.href='{% url 'accountHelp' %}'" ><p style="color: white; font-size: 14px;">Your Account</p>
                        </a>
                        <a onclick="location.href='{% url 'forumsHelp' %}'" ><p style="color: white; font-size: 14px;">Forums & Messaging</p></a>
                        <a onclick="location.href='{% url 'helpconnections' %}'" ><p style="color: white; font-size: 14px;">Connection
                            Management</p></a>
                        <a onclick="location.href='{% url 'helpcourses' %}'" ><p style="color: white; font-size: 14px;">Courses Help</p></a>
                        <a href="https://www.getsmarter.com/what-we-do" ><p style="color: white; font-size: 14px;">GetSmarter</p></a>


                    </div>

                    <div class="col-sm-3" style="text-align:left;padding-left: 80px;"><!--coloumn-->

                        <p style="color:#e83e8c;font-size:20px;"><strong>Contact Us</strong></p>
                        <p style="color: white; font-size: 14px;"><strong>Tel: </strong> 456 4637</p>
                        <p style="color: white; font-size: 14px;"><strong>Email: </strong> getConnected@GetSmarter.co.za</p>
                        <p style="color: white; font-size: 14px;"><strong>Working Hours:</strong> Mon - Fri, 09:00 - 17:00</p>


                    </div>


                </div>

                <br>
                <br>


            </li>
        </ul>
        <!-- Call to action -->

    </div>
    </div>
</footer>

<!-- End of 1.1 Pop Up modal-->



{% comment %}
Badges_Celebrations_3
{% endcomment %}
<script>

        //Badge_1_Friend_Finder

        var FriendFinder_Connections = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Connections");

        FriendFinder_Connections.on("value", function (snapshot) {

            var counter = 0;

            snapshot.forEach(function (childSnapshot) {
                counter++;
            });

            if (counter >=1 && counter<5)

            {
               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
               checkCelebration.on("value", function (snapshot) {
                   var text = "Friend Finder Badge";

                    if (snapshot.val().FriendFinder == "not_celebrated"){
                      $('#Congrats_Pop_Up').html(text);
                      $("#Celebrations").modal();

                        checkCelebration.update({'FriendFinder': "celebrated"});
               }
                });
            }

            else {}


        //Badge_2_NetoworkingNinja

            if (counter >=5 && counter < 10)

            {

               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {
                       var text = "Networking Ninja Badge";
                      if (snapshot.val().NetworkingNinja == "not_celebrated"){
                        $('#Congrats_Pop_Up').html(text);
                        $("#Celebrations").modal();
                        checkCelebration.update({'NetworkingNinja': "celebrated"});
               }

                })

            }

            else {}


         //Badge_3_CrazyConnector

  if (counter >=10 && counter<15)

            {



               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {
                     var text = "Crazy Connector Badge";


                      if (snapshot.val().CrazyConnector == "not_celebrated"){
                          $('#Congrats_Pop_Up').html(text);
                          $("#Celebrations").modal();
                          checkCelebration.update({'CrazyConnector': "celebrated"});


               }

                })

            }

            else {}


          //Badge_4_PopularProfile

 if (counter >=15)

            {



               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {
                       var text = "Popular Profile Badge";

                      if (snapshot.val().PopularProfile == "not_celebrated"){
                        $('#Congrats_Pop_Up').html(text);
                        $("#Celebrations").modal();
                        checkCelebration.update({'PopularProfile': "celebrated"});


               }

                })

            }

            else {


            }


        });

          //Badge_5_BrightSpark

var Badges_for_Courses = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Courses");

        Badges_for_Courses.on("value", function (snapshot) {

            var counter = 0;

            snapshot.forEach(function (childSnapshot) {
                counter++;
            });



            if (counter >=3 && counter<5)

            {

               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {
                var text = "Bright Spark Badge";

                      if (snapshot.val().BrightSpark == "not_celebrated"){
                       $('#Congrats_Pop_Up').html(text);
                       $("#Celebrations").modal();
                       checkCelebration.update({'BrightSpark': "celebrated"});

               }

                })

            }

            else {}


        //Badge_6_FabAcademic

         if (counter >=5 && counter<10 )

            {

               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {
                    var text = "FabAcademic Badge";


                      if (snapshot.val().FabAcademic == "not_celebrated"){
                       $('#Congrats_Pop_Up').html("FabAcademic Badge");
                       $("#Celebrations").modal();
                       checkCelebration.update({'FabAcademic': "celebrated"});


               }

                })

            }

            else {
            }


           //Badge_7_Got_Smarter


            if (counter >=10 )

            {


               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {
                 var text = "GotSmarter Badge";

                      if (snapshot.val().GotSmarter == "not_celebrated"){
                         $('#Congrats_Pop_Up').html("GotSmarter Badge");
                         $("#Celebrations").modal();

                       checkCelebration.update({'GotSmarter': "celebrated"});


               }

                })

            }

            else {


            }



        });

        //Badge_8_Got_Smarter

        //Badge_9_Forum_Boffin

var Badges_for_Forums = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/ForumsJoined");

        Badges_for_Forums.on("value", function (snapshot) {

            var counter = 0;

            snapshot.forEach(function (childSnapshot) {
                counter++;
            });

            if (counter >=5 )

            {



               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {

                      if (snapshot.val().ForumBoffin == "not_celebrated"){
                       var text = "GotSmarter Badge";
                       $('#Congrats_Pop_Up').html("ForumBoffin Badge");
                        $("#Celebrations").modal();
                       checkCelebration.update({'ForumBoffin': "celebrated"});

               }

                })

            }

            else {


            }

           });


 //Badge_10_Forum_Boffin
var Badges_for_Badges_Private = firebase.database().ref().child("Users/" + '{{ this_uid }}' );

        Badges_for_Badges_Private.on("value", function (snapshot) {

            var isPrivate = snapshot.val().privacyUpdated;
            var display_1 = "";


            if (isPrivate == "yes" )

            {

               display_1 =  "<img src=\"https://firebasestorage.googleapis.com/v0/b/getconnected-9dac0.appspot.com/o/Badges%2FsuperSecurity.png?alt=media&token=503cf33c-c79b-4710-b12d-ffbb2a7477b7\" alt= \"lock\" class=\"image\" >\n" +
                   "\n" +
                   "                <div class=\"middle\">\n" +
                   "                   <div class=\"text\"><strong>Super Security</strong> <br> Updated you Privacy Settings</div>\n" +
                   "                     <!--text for the hover-->\n" +
                   "                 </div>";

               var checkCelebration = firebase.database().ref().child("Users/" + '{{ this_uid }}' + "/Badges");
                checkCelebration.on("value", function (snapshot) {

                      if (snapshot.val().SuperSecurity == "not_celebrated"){
                       var text = "Super Security Badge";
                       $('#Congrats_Pop_Up').html("Super Security Badge");
                        $("#Celebrations").modal();
                       checkCelebration.update({'SuperSecurity': "celebrated"});

               }

                })

            }

            else {

                display_1 = "<img src=\"https://firebasestorage.googleapis.com/v0/b/getconnected-9dac0.appspot.com/o/Badges%2FlockCircle.png?alt=media&token=d204d5fe-9d37-4269-9e73-0a54571a5ce6\" alt= \"lock\" class=\"image\" >\n" +
                    "                    <div class=\"middle\">\n" +
                    "                        <div class=\"text\"><strong>Oops!</strong> <br> Badge Locked</div>\n" +
                    "                         <!--text for the hover-->\n" +
                    "                     </div>";
            }

            $('#SuperSecurity').html(display_1);});


    </script>
{% comment %}
Badges_Celebrations_1
{% endcomment %}

    <div id="Celebrations" class="modal fade"  tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div style="" class="modal-content">
                <div style="" class="modal-header">

                    <img style="margin-left: 30px; width: 100px; height: 100px"
                         src="https://firebasestorage.googleapis.com/v0/b/getconnected-9dac0.appspot.com/o/Badges%2Fstuffcelebration.gif?alt=media&token=77be32d2-cdbb-4356-ba92-bc8fc69ca31c">
                    <img style="margin-left: 30px; width: 100px; height: 100px"
                         src="https://firebasestorage.googleapis.com/v0/b/getconnected-9dac0.appspot.com/o/Badges%2Fparty_face_256_1.gif?alt=media&token=4c859e3c-a29b-469e-b275-5208cff0e46d">
                    <img style="margin-left: 30px; width: 100px; height: 100px"
                         src="https://firebasestorage.googleapis.com/v0/b/getconnected-9dac0.appspot.com/o/Badges%2Fconfetti_ball_256.gif?alt=media&token=28226457-860e-48db-b443-07052b333515">
                    <img style="margin-left: 30px; width: 100px; height: 100px"
                         src="https://firebasestorage.googleapis.com/v0/b/getconnected-9dac0.appspot.com/o/Badges%2Fstuffcelebration.gif?alt=media&token=77be32d2-cdbb-4356-ba92-bc8fc69ca31c">

                    <h1 style="margin-left: 140px; color: orange">Congratulations!!!!</h1>
                    <h3 style="margin-left: 140px; color: purple">You unlocked a new badge!</h3>
                    <h4 id="Congrats_Pop_Up" style=" margin-left: 200px; color: orangered; font-style: italic"> </h4>


                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <br>
                <img style="margin-left: 50px"
                     src="https://firebasestorage.googleapis.com/v0/b/getconnected-9dac0.appspot.com/o/Badges%2Ftumblr_inline_pk7haw87391r9r3iy_540.gif?alt=media&token=f11fda16-ae48-4560-9abd-c5e4dd78a141">

                <div class="modal-body">


                    <div id="ConnectionsListing_All" class="row">


                    </div> <!--end row-->


                    <div class="modal-footer">


                    </div>
                </div>
            </div>
        </div>
    </div>

{% comment %}
Badges_Celebrations_2
{% endcomment %}
    <script>

        $('#Celebrations').on('show.bs.modal', function (event) {

        })
    </script>

</body>

<!-- Confirm Disable Account Popup -->

                    <div class="modal fade" id="mi-modal" role="dialog">
                        <div class="modal-dialog">

                            <div class="modal-content">
                            <div class="modal-body" style="padding:10px;">
                            <h4 class="text-center">Are you sure you want to disable your account?</h4>
                            <br>
                            <div class="text-right">
                            <a onclick="location.href={% url 'log'%}" id="modal-btn-si" class="btn btn-yes" style=" border: 1px solid gray;
            color: #e83e8c;">
                                Confirm</a>
                            <a class="btn btn-no" id="modal-btn-no" style=" border: 1px solid gray;
            color: #e83e8c;">Cancel</a>
                            </div>
                            </div>
                            </div>
                            </div>
                            </div>

                    <script>


                // disable account functionality for confirm dialogue using Bootstrap modal
                var modalConfirm = function(callback){

                      $("#disableAccBtn").on("click", function(){
                        $("#mi-modal").modal('show');
                      });

                      $("#modal-btn-si").on("click", function(){
                        callback(true);
                        $("#mi-modal").modal('hide');
                      });

                      $("#modal-btn-no").on("click", function(){
                        callback(false);
                        $("#mi-modal").modal('hide');
                      });
                    };

                    // results of the confirmation
                    modalConfirm(function(confirm){
                      if(confirm){                                                                                      // Disable Account confirmed
                          updateUserEnabledRef = firebase.database().ref("Users").child('{{ this_uid }}');
                          updateUserEnabledRef.update({Enabled: false});                                                // update database - set user to disabled

                          document.getElementById("firstname").disabled = true;                                         // disable all settings boxes so that user cannot make changes while the system is logging them out
                          document.getElementById("country").disabled = true;
                          document.getElementById("bioGet").disabled = true;
                          document.getElementById("saveChangesBtn").hidden = true;
                          document.getElementById("nav_bar_disable").hidden = true;
                          document.getElementById("cancelBtn").hidden = true;
                          document.getElementById("disableAccBtn").disabled=true;                        // change button to "Enable account"



                          $("#mi-modal").modal('hide');
                          $("#modalAccountDisabled").modal('show');                                                     // notify user that their account has been disabled

                      }else{                //Do not disable account
                        $("#mi-modal").modal('hide');
                      }
                    });

                    /*function enableAccount(){
                          updateUserEnabledRef = firebase.database().ref("Users").child('//  this_uid ');
                          updateUserEnabledRef.update({Enabled: true});                                                 // update database - set user to enabled

                          document.getElementById("enableAccBtn").innerText = "Disable Account";                                      // change button to "Disable account"
                          document.getElementById("enableAccBtn").disabled = true;

                          document.getElementById("firstname").disabled = false;                                     // enable all settings boxes
                          document.getElementById("country").disabled = false;
                          document.getElementById("bioGet").disabled = false;
                          document.getElementById("saveChangesBtn").hidden = false;
                          document.getElementById("nav_bar_disable").hidden = false;

                          $("#modalAccountEnabled").modal('show');                                                      // notify user that they have been re enabled
                    }*/
            </script>
                </div>

<!-- Modal for pop up message "User has disabled account" -->
            <div class="modal fade" id="modalAccountDisabled" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Account Disabled</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    You have disabled your account. You may enable your account at any time by logging in again.
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal"  style=" border: 1px solid gray;
            color: #e83e8c;">Close</button>

                  </div>
                </div>
              </div>
            </div>


<!-- Modal for pop up message "User has enabled account" -->
            <div class="modal fade" id="modalAccountEnabled" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Account Enabled</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    You have enabled your account. You may now interact on this platform.
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" style=" border: 1px solid gray;
            color: #e83e8c;">Close</button>

                  </div>
                </div>
              </div>
            </div>